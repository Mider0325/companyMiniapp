<view class="container">
  <!-- æ ‡ç­¾æ  -->
  <scroll-view scroll-x="true" class="tabs-container">
    <view class="tabs">
      <block wx:for="{{tabs}}" wx:key="*this">
        <view class="tab {{activeTab === index ? 'active' : ''}}" bindtap="switchTab" data-index="{{index}}">
          {{item}}
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- äº§å“åˆ—è¡¨ -->
  <view class="products-container">
    <block wx:if="{{filteredProducts.length > 0}}">
      <view class="products-grid">
        <block wx:for="{{filteredProducts}}" wx:key="id">
          <view class="product-card" bindtap="showProductDetail" data-id="{{item.id}}">
            <my-image src="{{item.image}}" class="product-image" mode="aspectFill" />
            <view class="product-info">
              <view class="product-name">{{item.name}}</view>
              <view class="product-brief">{{item.desc.substring(0, 30)}}...</view>
            </view>
          </view>
        </block>
      </view>
    </block>
    <block wx:else>
      <view class="empty-tip">æš‚æ— ç›¸å…³äº§å“</view>
    </block>
  </view>

  <!-- äº§å“è¯¦æƒ…å¼¹çª— -->
  <view class="product-detail-modal {{showDetailModal ? 'show' : ''}}" wx:if="{{currentProduct}}">
    <view class="modal-mask" bindtap="closeProductDetail"></view>
    <view class="modal-content">
      <view class="modal-header">
        <view class="modal-title">{{currentProduct.name}}</view>
        <view class="modal-close" bindtap="closeProductDetail">Ã—</view>
      </view>
      
      <scroll-view scroll-y="true" class="modal-body">
        <!-- äº§å“å›¾ç‰‡ -->
        <swiper class="product-images" indicator-dots="true" autoplay="true" interval="3000" duration="500" circular="true">
          <block wx:for="{{currentProduct.images}}" wx:key="*this">
            <swiper-item>
              <my-image src="{{item}}" class="detail-image" mode="aspectFit" bindtap="previewImage" data-src="{{item}}" />
            </swiper-item>
          </block>
        </swiper>
        
        <!-- äº§å“æè¿° -->
        <view class="detail-section">
          <view class="detail-title">äº§å“æè¿°</view>
          <view class="detail-desc">{{currentProduct.desc}}</view>
        </view>
        
        <!-- äº§å“ç‰¹ç‚¹ -->
        <view class="detail-section">
          <view class="detail-title">äº§å“ç‰¹ç‚¹</view>
          <view class="tags">
            <block wx:for="{{currentProduct.features}}" wx:key="*this">
              <view class="tag">{{item}}</view>
            </block>
          </view>
        </view>
        
        <!-- åŒ…è£…æ–¹å¼ -->
        <view class="detail-section">
          <view class="detail-title">åŒ…è£…æ–¹å¼</view>
          <view class="tags">
            <block wx:for="{{currentProduct.packaging}}" wx:key="*this">
              <view class="tag">{{item}}</view>
            </block>
          </view>
        </view>
        
        <!-- å®šåˆ¶æœåŠ¡ -->
        <view class="detail-section">
          <view class="detail-title">å®šåˆ¶æœåŠ¡</view>
          <view class="service-items-grid">
            <view class="service-item">
              <view class="service-icon">ğŸ­</view>
              <view class="service-text">OEM/ODM</view>
            </view>
            <view class="service-item">
              <view class="service-icon">ğŸ“¦</view>
              <view class="service-text">å®šåˆ¶åŒ…è£…</view>
            </view>
            <view class="service-item">
              <view class="service-icon">ğŸ”</view>
              <view class="service-text">å‡ºå£å•†æ£€</view>
            </view>
            <view class="service-item">
              <view class="service-icon">âš–ï¸</view>
              <view class="service-text">æ•£è£…/å®šé‡</view>
            </view>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
</view> 